const API_ROUTE="/api";async function login(o,t){const e=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:t})}),n=await e.json();return n.succes?(document.cookie=`token=${n.token}; path=/; max-age=2592000;`,!0):(console.log(n),!1)}async function register(o,t,e){const n=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:t,username:e})}),a=await n.json();return!!a.succes&&(document.cookie=`token=${a.token}; path=/; max-age=2592000;`,!0)}async function validate(){const o=document.cookie.split("token=")[1].split(";")[0],t=await fetch("/api/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o})}),e=await t.json();return console.log(e),!!e.succes&&(document.cookie=`token=${e.token}; path=/; max-age=2592000;`,!0)}function logout(){document.cookie="token=; path=/; max-age=0;",window.location.href="/"}